<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>RZ/A Flexible Software Package Documentation: Azure RTOS GUIX Port (rm_guix_port)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/javascript" src="search/lunr.js"></script>
    <link href="search/lunrsearch.css" rel="stylesheet" type="text/css">
    <script src="search/lunr_index.js"></script>
    <script src="search/lunrclient.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_scaled.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">RZ/A Flexible Software Package Documentation
   &#160;<span id="projectnumber">Release v3.0.0</span>
   </div>
  </td>
   <td>        <br /><div id="MSearchBox" class="MSearchBoxInactive">
 
    <form id="lunrSearchForm" name="lunrSearchForm">
      <span class="left" >
          <img id="MSearchSelect" src="search/mag_sel.png"
               alt=""/>
         <input class="search-input" id="MSearchField" name="q" placeholder="Search" type="text"> 
      </span>
      <span class="right">
          &nbsp; 
      </span>
        <!--<input type="submit" value="Search">-->
    </form>
</div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___r_m___g_u_i_x___p_o_r_t.html','');});
</script>

<script src="search/mark.min.js"></script>
<script type="text/javascript">
  $(document).ready(function() { 
    var options = {         // allows highlighting across element boundaries.
      "acrossElements": true
    };
    var bodyText = $("div.contents").text(); // try contents instead of body. 
    // If using body: Problem may be that text inside <script> tags is included in .text() - but not in cheerio?
    // If using div.contents - works 
    var fullURL = $(location).attr('href');
    var splitURL = fullURL.split("?");  // Get param string: content after "?" in URL
    if (splitURL.length > 1) {          // If any content after "?"
      var paramStr = splitURL[1];
      var params = paramStr.split("&"); // Split params on "&"
      for (i = 0; i < params.length; i++) {
        var paramPair = params[i].split("=");
        if (paramPair[0] == "pos") {     // If any param starts "pos", get the content after "="
          posStr = paramPair[1];
          var splitPos = posStr.split(",");
          var termArray = [];
        // termArray will have the search terms
            for (i=0; i < splitPos.length; i += 2) {
            start = splitPos[i];
            len = splitPos[i+1]; // Needs error detection! Vulnerable if non-even # of pos entries
            term = bodyText.substr(start,len);
            if (termArray.includes(term) == false) {     // List all unique terms
                termArray.push(bodyText.substr(start,len)); 
            }
          } 
    //      console.log(termArray);
          var context = document.querySelector("div.contents");
          var instance = new Mark(context);
          for(i=0;i<termArray.length; i+=1) {
            instance.mark(termArray[i],options);  // Use Mark.js to mark all terms in termArray
            }    
          var firstMark = document.querySelector("mark");
          firstMark.scrollIntoView(true);
          //      console.log($("mark").first().text()); // Trying to scroll to first Mark element. 
        }
            }
    }
  });
</script>

<link href="fsp_customdoxygen.css" rel="stylesheet" type="text/css" />

<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<!-- Lunr search results -->
<div id="lunrResultBox" style="
        position: fixed;
        border: 1px solid black;
        background-color: WhiteSmoke;  
        padding: 10px;
        width: 500px;
        height: 500px;
        top: 30;
        right: 0;
        overflow: auto;
        display: none">
    <button onclick="closeLunrResults()" style="float: right;">X</button>
    <div class="resultCount" id="resultCount"></div>
    <div id="searchResults"></div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Azure RTOS GUIX Port (rm_guix_port)<div class="ingroups"><a class="el" href="group___r_e_n_e_s_a_s___m_o_d_u_l_e_s.html">Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1><a class="anchor" id="rm-guix-port-overview"></a>
Overview</h1>
<p><a class="anchor" id="um_guix_port"></a> The Azure RTOS GUIX Port module provides the configuration support necessary for use of GUIX on RZ MPUs. The port provides full integration with the graphics peripherals (LCDC).</p>
<div class="image">
<object type="image/svg+xml" data="guix_port_block_diagram.svg">guix_port_block_diagram.svg</object>
<div class="caption">
Azure RTOS GUIX Port Block Diagram</div></div>
 <dl class="section note"><dt>Note</dt><dd>For information about how to use GUIX and GUIX Studio (including example code) please consult the <a href="https://docs.microsoft.com/en-us/azure/rtos/guix/">Azure RTOS GUIX documentation</a>.</dd></dl>
<p><a class="anchor" id="um_guix_hw_init"></a><a class="anchor" id="um_guix_deinit"></a><a class="anchor" id="um_guix_rgb565"></a><a class="anchor" id="um_guix_studio"></a><a class="anchor" id="um_guix_hw_pixelmap"></a><a class="anchor" id="um_guix_hw_circle"></a><a class="anchor" id="um_guix_hw_arc"></a><a class="anchor" id="um_guix_hw_pie"></a><a class="anchor" id="um_guix_sw_ellipse"></a><a class="anchor" id="um_guix_hw_polygon"></a><a class="anchor" id="um_guix_hw_line"></a><a class="anchor" id="um_guix_hw_pixel"></a><a class="anchor" id="um_guix_hw_block_move"></a><a class="anchor" id="um_guix_hw_glyph"></a><a class="anchor" id="um_guix_hw_pixelmap_rotate"></a><a class="anchor" id="um_guix_rgb888"></a><a class="anchor" id="um_guix_lcdc_underflow"></a><a class="anchor" id="um_guix_single_buffer"></a></p><hr/>
<h1><a class="anchor" id="rm-guix-port-configuration"></a>
Configuration</h1>
<p><h2>Build Time Configurations for gx</h2>
The following build time configurations are defined in fsp_cfg/azure/gx/gx_user.h:<br />
</p><table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Hardware Acceleration &gt; DRW Engine Support</td><td>Disabled</td><td>Disabled </td><td>This setting is for the future improvement. </td></tr>
<tr>
<td>Internal Thread &gt; Stack Size</td><td>Value must be greater than zero</td><td>4096 </td><td>GUIX internal thread stack size in bytes. Must be greater than zero. </td></tr>
<tr>
<td>Internal Thread &gt; Priority</td><td>Value must be between 0 to 31</td><td>30 </td><td>Priority of the GUIX Internal Thread. The value must be between 0 to 31. </td></tr>
<tr>
<td>Internal Thread &gt; Time Slice</td><td>Value must be a non-negative integer</td><td>10 </td><td>Time Slice value of the GUIX Internal Thread. The value must be between 0 (TX_NO_TIME_SLICE) to 0xFFFFFFFF. </td></tr>
<tr>
<td>System Timer (ms)</td><td>Value must be greater than or equal to 10</td><td>20 </td><td>GUIX system timer period (GX_SYSTEM_TIMER_MS). This value will be internally converted to RTOS ticks and will be rounded down to the next smallest multiple of the RTOS tick period (1000 / TX_TIMER_TICKS_PER_SECOND). </td></tr>
<tr>
<td>Multithread Support</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Disabled</li>
<li>
Enabled</li>
</ul>
</td><td>Enabled </td><td>Must be enabled if GUIX functions are called from multiple threads. Set to Disabled when calling GUIX from only one thread to reduce system overhead. </td></tr>
<tr>
<td>UTF8 Support</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Disabled</li>
<li>
Enabled</li>
</ul>
</td><td>Enabled </td><td>Select whether to enable or disable support for UTF8 characters. </td></tr>
<tr>
<td>Event Queue Size</td><td>Value must be greater than zero</td><td>48 </td><td>Maximum number of events in the GUIX event queue. </td></tr>
<tr>
<td>Enable GX_WIDGET User Data</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>Set to Enabled to to use the gx_widget_user_data member in the GX_WIDGET structure. </td></tr>
</table>
 <h2>Configurations for Graphics &gt; Azure RTOS GUIX Port (rm_guix_port)</h2>
<table class="doxtable">
<tr>
<th>Configuration</th><th>Options</th><th>Default</th><th>Description </th></tr>
<tr>
<td>Display Rotation &gt; Screen Orientation</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
None</li>
<li>
CW (90 degrees)</li>
<li>
FLIP (180 degrees)</li>
<li>
CCW (270 degrees)</li>
</ul>
</td><td>None </td><td>Select the display orientation specified in the GUIX Studio project. The Canvas Buffer must be enabled when rotating 180 degrees (FLIP). </td></tr>
<tr>
<td>Display Rotation &gt; Use Canvas Buffer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Enabled</li>
<li>
Disabled</li>
</ul>
</td><td>Disabled </td><td>When screen rotation is set to 180 degrees (FLIP), a canvas buffer must be used. The canvas buffer size will be the same as a frame buffer for the display module. </td></tr>
<tr>
<td>Display Rotation &gt; Canvas Buffer Memory Section</td><td>This property must be a valid section name</td><td>bss </td><td>Specify the memory section where the GUIX Canvas Buffer will be allocated. </td></tr>
<tr>
<td>Name</td><td>Name must be a valid C symbol</td><td>g_rm_guix_port0 </td><td>Module name. </td></tr>
<tr>
<td>Target Display Layer</td><td><ul style="margin-top:0;margin-bottom:0;">
<li>
Graphics Layer 1</li>
<li>
Graphics Layer 2</li>
</ul>
</td><td>Graphics Layer 1 </td><td>Specify which graphics screen to inherit the buffer and display dimensions from. </td></tr>
<tr>
<td>Callback Function</td><td>Must be a valid C symbol</td><td>NULL </td><td>If a callback function is provided it will be called when Display events occur. </td></tr>
</table>
</p>
<h2><a class="anchor" id="rm-guix-port-hw-config"></a>
Hardware Configuration</h2>
<p>No clocks or pins are directly required by this module. Please consult the submodules' documentation for their requirements. </p><hr/>
<h1><a class="anchor" id="rm-guix-port-usage_notes"></a>
Usage Notes</h1>
<h2><a class="anchor" id="rm-guix-port-getting_started"></a>
Getting Started</h2>
<p>To get started with GUIX in an RZ project the following must be performed:</p>
<ol type="1">
<li>In e2 studio, open the RZ Configuration editor for your GUIX project</li>
<li>Select or create a thread</li>
<li>Add GUIX to your project in the Stacks view by clicking <b>New Stack -&gt; Azure RTOS -&gt; GUIX</b></li>
<li>Ensure the configuration options for GUIX and the port layer are set as necessary for your application</li>
<li>Set the proporties for the LCDC module to match the timing and memory requirements of your display panel</li>
<li>Set the input color format in the LCDC module (Input -&gt; Graphics Layer * -&gt; General -&gt; Color format)</li>
<li>Click the BSP tab in the configuration editor and confirm the heap size in the Properties pane is sufficient (see Note below)</li>
<li>Click Generate Project Content to save and commit configuration changes</li>
<li>Drop the Quick Setup entry in Developer Assistance into the desired thread entry C file and update the items marked with TODO as necessary</li>
<li>Call the Quick Setup function from the thread entry function (or where desired)</li>
</ol>
<p>At this point the project is now ready to build and run your GUIX Studio project. Please refer to the documentation for Azure RTOS GUIX and GUIX Studio for details on how to create and edit a GUI application.</p>
<dl class="section note"><dt>Note</dt><dd>It is recommended to start with 8K-32K of heap to begin development. Actual heap use is typically far lower than this but must be characterized by the developer. <hr/>
</dd></dl>
<h1><a class="anchor" id="rm-guix-port-examples"></a>
Examples</h1>
<h2><a class="anchor" id="rm-guix-port-examples-minimal"></a>
Basic Example</h2>
<p>This is a basic example demonstrating how to get GUIX up and running given an existing GUIX Studio project. A template for this code is available in Developer Assistance for the GUIX Port module.</p>
<dl class="section note"><dt>Note</dt><dd>GUIX manages the LCDC submodules internally; they do not need to be opened directly.</dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structrm__guix__port__callback__args__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#structrm__guix__port__callback__args__t">rm_guix_port_callback_args_t</a></td></tr>
<tr class="separator:structrm__guix__port__callback__args__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gaeb98b129bce754c16ed688e2410fb699"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#gaeb98b129bce754c16ed688e2410fb699">rm_guix_port_device_t</a> </td></tr>
<tr class="separator:gaeb98b129bce754c16ed688e2410fb699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga405fa57e46e3313d2e01c7e218126a1f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#ga405fa57e46e3313d2e01c7e218126a1f">rm_guix_port_event_t</a> </td></tr>
<tr class="separator:ga405fa57e46e3313d2e01c7e218126a1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structrm__guix__port__callback__args__t" id="structrm__guix__port__callback__args__t"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structrm__guix__port__callback__args__t">&#9670;&nbsp;</a></span>rm_guix_port_callback_args_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct rm_guix_port_callback_args_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Callback arguments for the FSP GUIX Port </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="a518e593441e6b6dd131d9185bbc277f7"></a><a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#gaeb98b129bce754c16ed688e2410fb699">rm_guix_port_device_t</a></td>
<td class="fieldname">
device</td>
<td class="fielddoc">
Device code. </td></tr>
<tr><td class="fieldtype">
<a id="ada37049029d206389e9e2a3034e3a467"></a><a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#ga405fa57e46e3313d2e01c7e218126a1f">rm_guix_port_event_t</a></td>
<td class="fieldname">
event</td>
<td class="fielddoc">
Event code of the low level hardware. </td></tr>
<tr><td class="fieldtype">
<a id="afe363b7a17c200d29f816b48b8bbcb98"></a>uint32_t</td>
<td class="fieldname">
error</td>
<td class="fielddoc">
Error code if RM_GUIX_PORT_EVENT_ERROR. </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gaeb98b129bce754c16ed688e2410fb699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeb98b129bce754c16ed688e2410fb699">&#9670;&nbsp;</a></span>rm_guix_port_device_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#gaeb98b129bce754c16ed688e2410fb699">rm_guix_port_device_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Low level device code for the GUIX </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggaeb98b129bce754c16ed688e2410fb699a2a4c50e05dcb541dcd9192705b62b22f"></a>RM_GUIX_PORT_DEVICE_NONE&#160;</td><td class="fielddoc"><p>Non hardware. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaeb98b129bce754c16ed688e2410fb699a80bb7475d59c2aaa51e7c7ba72c07cbf"></a>RM_GUIX_PORT_DEVICE_DISPLAY&#160;</td><td class="fielddoc"><p>Display device. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaeb98b129bce754c16ed688e2410fb699af03eb155ed54ecc62391c0f5f8e11a92"></a>RM_GUIX_PORT_DEVICE_DRW&#160;</td><td class="fielddoc"><p>2D Graphics Engine </p>
</td></tr>
<tr><td class="fieldname"><a id="ggaeb98b129bce754c16ed688e2410fb699a68ad2b7dcea757c4a49be70a132c4715"></a>RM_GUIX_PORT_DEVICE_JPEG&#160;</td><td class="fielddoc"><p>JPEG Codec. </p>
</td></tr>
</table>

</div>
</div>
<a id="ga405fa57e46e3313d2e01c7e218126a1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga405fa57e46e3313d2e01c7e218126a1f">&#9670;&nbsp;</a></span>rm_guix_port_event_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___r_m___g_u_i_x___p_o_r_t.html#ga405fa57e46e3313d2e01c7e218126a1f">rm_guix_port_event_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Display event codes </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga405fa57e46e3313d2e01c7e218126a1fa786df716bcc181803d466f748ec92329"></a>RM_GUIX_PORT_EVENT_ERROR&#160;</td><td class="fielddoc"><p>Low level driver error occurs. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga405fa57e46e3313d2e01c7e218126a1fadcecd94989239d5c230457cd78c57139"></a>RM_GUIX_PORT_EVENT_DISPLAY_VSYNC&#160;</td><td class="fielddoc"><p>Display interface VSYNC. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga405fa57e46e3313d2e01c7e218126a1fa05efaed0e8146dd8f2a957e5f52871ec"></a>RM_GUIX_PORT_EVENT_UNDERFLOW&#160;</td><td class="fielddoc"><p>Display interface underflow. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.7-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
        <li class="footer">FSP Release v3.0.0 User's Manual Copyright Â© (2024) Renesas Electronics Corporation. All Rights Reserved.</li>
  </ul>
</div>
</body>
</html>
